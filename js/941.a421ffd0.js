"use strict";(self["webpackChunkmweb"]=self["webpackChunkmweb"]||[]).push([[941],{8941:function(t,e,s){s.r(e),s.d(e,{default:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("canvas",{directives:[{name:"show",rawName:"v-show",value:t.alpha,expression:"alpha"}],ref:"canvas"})])},a=[],h=(s(4114),{name:"ParticleComponent",data(){return{PARTICLE_NUM:500,PARTICLE_BASE_RADIUS:.5,FL:500,DEFAULT_SPEED:50,BOOST_SPEED:200,canvas:null,canvasWidth:0,canvasHeight:0,context:null,centerX:0,centerY:0,alpha:.1,speed:2,targetSpeed:2,particles:[],intervalId:null}},mounted(){this.canvas=this.$refs.canvas,this.resize(),window.addEventListener("resize",this.resize);for(let t=0;t<this.PARTICLE_NUM;t++){let e=new n;this.particles.push(this.randomizeParticle(e)),this.particles[t].z-=500*Math.random()}this.intervalId=setInterval(this.loop,1e3/60),setTimeout((()=>{this.accelerateParticles()}),1),setTimeout((()=>{this.fadeOutParticles()}),2e3),setTimeout((()=>{this.clearParticles()}),2500),setTimeout((()=>{clearInterval(this.intervalId)}),3500)},beforeDestroy(){window.removeEventListener("resize",this.resize),clearInterval(this.intervalId)},methods:{resize(){this.canvasWidth=this.canvas.width=window.innerWidth,this.canvasHeight=this.canvas.height=window.innerHeight,this.centerX=.5*this.canvasWidth,this.centerY=.5*this.canvasHeight,this.context=this.canvas.getContext("2d"),this.context.fillStyle="rgb(255, 255, 255)"},loop(){console.log(this.alpha),this.alpha<=.1&&(this.alpha=0),this.context.globalAlpha=this.alpha,this.context.save(),this.context.fillStyle="rgb(0, 0, 0)",this.context.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.context.restore(),this.speed+=.01*(this.targetSpeed-this.speed);const t=.5*Math.PI,e=Math.atan2,s=Math.cos,i=Math.sin;this.context.beginPath();for(let a=0;a<this.PARTICLE_NUM;a++){let h=this.particles[a];if(h.pastZ=h.z,h.z-=this.speed,h.z<=0){this.randomizeParticle(h);continue}let n=1.25*this.centerX,r=1.25*this.centerY,l=h.x-n,c=h.y-r,o=this.FL/h.z,d=n+l*o,p=r+c*o,v=this.PARTICLE_BASE_RADIUS*o,u=this.FL/h.pastZ,m=n+l*u,E=r+c*u,P=this.PARTICLE_BASE_RADIUS*u,x=e(E-p,m-d),f=x+t,S=x-t;this.context.moveTo(m+P*s(f),E+P*i(f)),this.context.arc(m,E,P,f,S,!0),this.context.lineTo(d+v*s(S),p+v*i(S)),this.context.arc(d,p,v,S,f,!0),this.context.closePath()}this.context.fill()},randomizeParticle(t){return t.x=Math.random()*this.canvasWidth,t.y=Math.random()*this.canvasHeight,t.z=1500*Math.random()+500,t},accelerateParticles(){this.targetSpeed=this.DEFAULT_SPEED;const t=()=>{this.alpha<=1&&(this.alpha+=.03,this.alpha=this.alpha>=1?1:this.alpha,requestAnimationFrame(t))};t()},fadeOutParticles(){this.targetSpeed=this.BOOST_SPEED},clearParticles(){this.targetSpeed=this.DEFAULT_SPEED;const t=()=>{this.alpha>=0&&(this.alpha-=.1,this.alpha=this.alpha<=0?0:this.alpha,requestAnimationFrame(t))};t()}}});function n(t,e,s){this.x=t||0,this.y=e||0,this.z=s||0,this.pastZ=0}var r=h,l=s(1656),c=(0,l.A)(r,i,a,!1,null,"78fda150",null),o=c.exports}}]);
//# sourceMappingURL=941.a421ffd0.js.map